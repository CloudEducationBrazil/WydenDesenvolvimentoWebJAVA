-- Criar a interface
public interface UserMinProjection {
	Long getId();
	String getNome();
	Integer getIdade();
}

-- Adicionar ao repositorie
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
	@Query(nativeQuery = true, value = """
			SELECT tb_user.id, tb_user.idade
			FROM tb_user
			WHERE tb_user.idade > :idade
			ORDER BY tb_user.idade
				""") 
	List<UserMinProjection> searchByIdade(int idade);
}


	@Transactional(readOnly = true)
	public ResponseEntity<?> findAllUsersIdade(int idade){
		List<UserMinProjection> userMinProjection   = userRepository.searchAllUsersByIdade(idade);
		
		return ResponseEntity.status(HttpStatus.OK).body(userMinProjection);
	}

	@GetMapping(value = "/idade/{idade}")
	public ResponseEntity<?> findAllUsersIdade(@PathVariable int idade){
		return userService.findAllUsersIdade(idade);
	}
